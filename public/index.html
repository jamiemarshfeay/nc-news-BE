<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NC News Application</title>
</head>
<body>
    <header>
        <h1>NC News API</h1>
        <p>This API will accept multiple endpoints, multiple methods, and multiple queries. Below you will find a list containing each of the valid endpoints. Each element in the list is a hyperlink directing you to the relevant section on this page for that endpoint. These sections provide a brief description of the purpose and functionality of the endpoint, the format of the request body, and an example response representing the shape of the data.</p>
    </header>
    <main>
        <section>
            <h2>Valid Endpoints</h2>
            <nav>
                <ul>
                    <li><a href="#topics-endpoint">/api/topics</a></li>
                    <li><a href="#articles-endpoint">/api/articles</a></li>
                    <li><a href="#article-id-endpoint">/api/articles/:article_id</a></li>
                    <li><a href="#article-comments-endpoint">/api/articles/:article_id/comments</a></li>
                    <li><a href="#comment-id-endpoint">/api/comments/:comment_id</a></li>
                    <li><a href="#users-endpoint">/api/users</a></li>
                </ul>
            </nav>
            
        </section>
        <section id="topics-endpoint">
            <h2>/api/topics</h2>
            <p> 
                This endpoint provides an array of all topics available on the site. Each topic object contains a short description, an image url, and a slug (topic name) which can be used to filter articles by topic in other endpoints. This route accepts the GET method and does not take any queries or a request body. It is primarily used to give developers and users an overview of the discussion categories available within the application. If the endpoint is inputted incorrectly you will receive a 404 "Path not found" error, but upon success, the status will be 200.<br><br>

                Example response (GET):<br>

                <pre>
                {
                  "topics": [
                    { "slug": "coding", "description": "Code is love, code is life" },
                    ...,
                  ]
                }
                </pre>
            </p>
        </section>
        <section id="articles-endpoint">
            <h2>/api/articles</h2>
            <p>
                This endpoint provides an array of all articles available on the site. Each article object contains data such as the author, title, topic, and votes. This route accepts the GET method and does not take a request body, but it does take the queries 'sort_by', 'order', and 'topic'. The 'sort_by' query defaults to 'created_at' and allows for articles to be sorted by columns, i.e., the keys on the objects. 'Order' orders them in ascending / alphabetical or descending / reverse-alphabetical order and defaults to descending. As mentioned previously, 'topic' filters the articles by the specified topic value. If the endpoint is inputted incorrectly you will receive a 404 "Path not found" error, but upon success, the status will be 200.<br><br>

                Example response (GET):<br><br>

                <pre>
                {
                  "articles": [
                    { 
                        "author": "grumpy19",
                        "title": "The Notorious MSGs Unlikely Formula For Success",
                        "article_id": 34,
                        "topic": "cooking",
                        "created_at": "2020-11-22T11:13:00.000Z",
                        "votes": 0,
                        "article_img_url": "https...",
                        "comment_count": 11
                    },
                    ...,
                  ]
                }
                </pre>
            </p>
        </section>
        <section id="article-id-endpoint">
            <h2>/api/articles/:article_id</h2>
            <p>
                This endpoint using the GET method provides a single article object specified by the article_id path parameter. The route also accepts the PATCH method, which can be used to amend the votes for that particular article and return the updated object. If the non-parametric endpoint is inputted incorrectly you will receive a 404 "Path not found" error, but upon success, the status will be 200. The passing of invalid any invalid article_id will result in a 400 "You have made a bad request" error. Similarly, the passing of a valid possible article_id, but one that doesn't exist, will result in a 404 "Article not found" error. Attempting to PATCH with any invalid object request body will return a 400.<br><br>

                Example response (GET):<br><br>

                <pre>
                {
                  "article": { 
                        "article_id": 1,
                        "title": "Running a Node App",
                        "topic": "coding",
                        "author": "jessjelly",
                        "body": "...",
                        "created_at": "2020-11-07T06:03:00.000Z",
                        "votes": 0,
                        "article_img_url": "https...",
                        "comment_count": 8
                  }
                }
                </pre>

                PATCHing requires a request body of object form - an example of which is: { inc_votes: 36 }<br><br>

                Example response (PATCH):<br><br>

                <pre>
                {
                  "article": { 
                        "article_id": 1,
                        "title": "Running a Node App",
                        "topic": "coding",
                        "author": "jessjelly",
                        "body": "...",
                        "created_at": "2020-11-07T06:03:00.000Z",
                        "votes": 36,
                        "article_img_url": "https...",
                        "comment_count": 8
                  }
                }
                </pre>
            </p>
        </section>
        <section id="article-comments-endpoint">
            <h2>/api/articles/:article_id/comments</h2>
            <p>
                With the GET method this endpoint accesses an array of all the comments releative to the specified article_id. Here, the POST method allows you to upload a valid comment with the specified article_id, i.e., about that article, and returns that new comment object. If the non-parametric endpoint is inputted incorrectly you will receive a 404 "Path not found" error, but upon success, the status will be 200. The passing of invalid any invalid article_id will result in a 400 "You have made a bad request" error. Similarly, the passing of a valid possible article_id, but one that doesn't exist, will result in a 404 "Article not found" error. If the article_id passed is valid but no comments relative to that article exist, then the status will still be 200, but an empty array will be returned. Attempting to POST with any invalid object request body will return a 400.<br><br>

                Example response (GET):<br><br>

                <pre>
                {
                  "comments": [
                    { 
                        "comment_id": 89,
                        "votes": 2,
                        "created_at": "2020-10-24T06:08:00.000Z",
                        "author": "cooljmessy",
                        "body": "...",
                        "article_id": 1
                    },
                    ...,
                  ]
                }
                </pre>
                
                The POST method requires a request body of object form - an example of which is:<br>
                <pre>
                {
                    "username": "icellusedkars",
                    "body": "This is the return of the space cowboy",
                }
                </pre>

                Example response (POST):<br><br>

                <pre>
                {
                  "comment": {
                        "comment_id": ...,
                        "votes": 0,
                        "created_at": ...,
                        "author": "icellusedkars",
                        "body": "This is the return of the space cowboy",
                        "article_id": ...
                  }
                }
                </pre>
            </p>
        </section>
        <section id="comment-id-endpoint">
            <h2>/api/comments/:comment_id</h2>
            <p>
                This endpoint takes the DELETE method and deletes the comment specified by the passed comment_id. If the non-parametric endpoint is inputted incorrectly you will receive a 404 "Path not found" error, but upon success, a 204 "No content" status with no body will be returned. If the comment_id does not exist, a 404 "Comment not found" error will be thrown. If the comment_id is invalid, a 400 "You have made a bad request" error will be thrown.
            </p>
        </section>
        <section id="users-endpoint">
            <h2>/api/users</h2>
            <p>
                This endpoint provides an array of all users available on the site. Each user object contains a username, name, and avatar_url. This route accepts the GET method and does not take any queries or a request body. If the endpoint is inputted incorrectly you will receive a 404 "Path not found" error, but upon success, the status will be 200.<br><br>

                Example response (GET):<br>

                <pre>
                {
                  "users": [
                    { 
                        "username": "tickle122",
                        "name": "Tom Tickle",
                        "avatar_url": "https..."
                    },
                    ...,
                  ]
                }
                </pre>
            </p>
        </section>
    </main>
    <footer>
        <h2>Extras</h2>
        <p>
            If you'd like to test the data yourself, visit this <a href="https://github.com/jamiemarshfeay/nc-news-BE/">NC News Repository</a> and follow the instructions within the README file.
        </p>
    </footer>
</body>
</html>