<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NC News Application</title>
    <link rel="stylesheet" href="./style.css"/>
</head>
<body>
    <header>
        <h1>NC News API</h1>
        <p>This API will accept multiple endpoints, multiple methods, and multiple queries. Below you will find a list containing each of the valid endpoints. Each element in the list is a hyperlink directing you to the relevant section on this page for that endpoint. These sections provide a brief description of the purpose and functionality of the endpoint, the format of the request body and queries (if applicable), and an example response representing the shape of the data.</p>
    </header>
    <main>
        <section>
            <h2 class="sub-heading">Valid Endpoints</h2>
            <nav>
                <ul>
                    <li><a href="#topics-endpoint">/api/topics</a></li>
                    <li><a href="#articles-endpoint">/api/articles</a></li>
                    <li><a href="#article-id-endpoint">/api/articles/:article_id</a></li>
                    <li><a href="#article-comments-endpoint">/api/articles/:article_id/comments</a></li>
                    <li><a href="#comment-id-endpoint">/api/comments/:comment_id</a></li>
                    <li><a href="#users-endpoint">/api/users</a></li>
                </ul>
            </nav>
            
        </section>
        <section id="topics-endpoint">
            <h2 class="sub-heading">/api/topics</h2>
            <p> 
                <h3 class="sub-heading">Functionality</h3>
                This endpoint returns an array of all topics available on the site. Each topic object includes a short description, an image_url, and a slug (topic name), which can be used to filter articles by topic in other endpoints. The route accepts the GET method and does not take any queries or a request body.<br>

                <h3 class="sub-heading">Error Guidance and Example Responses</h3>
                <ul>
                    <li>If the endpoint path is entered incorrectly, the server will respond with a 404 "Path not found" error.</li>
                    <li>On success, the response status will be 200 "OK".</li>
                </ul>

                Example response (GET):<br><br>

                <pre class="json-response">
                {
                  "topics": [
                    { "slug": "coding", "description": "Code is love, code is life" },
                    ...,
                  ]
                }</pre>              
            </p>
        </section>
        <section id="articles-endpoint">
            <h2 class="sub-heading">/api/articles</h2>
            <p>
                <h3 class="sub-heading">Functionality</h3>
                This endpoint returns an array of all articles available on the site. Each article object contains fields such as the author, title, topic, and votes. The route accepts the GET method and supports optional queries: 'sort_by', 'order', and 'topic'. In order to pass the queries, you must add a '?', followed by the query and query value, to the end of your URL. E.g., to sort the articles by title in alphabetical order, the endpoint would be "/api/articles?sort_by=title&order=ASC".<br>
                <ul>
                    <li>'sort_by' defaults to 'created_at' and allows sorting by any valid column.</li>
                    <li>'order' sets the sorting direction to ascending or descending and defaults to descending.</li>
                    <li>'topic' filters the articles by the specified topic value.</li>
                </ul>

                <h3 class="sub-heading">Error Guidance and Example Responses</h3>
                <ul>
                    <li>If the endpoint path is entered incorrectly, the response will be 404 "Path not found".</li>
                    <li>If any invalid query values are passed, the response will be 400 "You have made a bad request".</li>
                    <li>Successful requests return 200 "OK".</li>
                </ul>

                Example response (GET):<br><br>

                <pre class="json-response">
                {
                  "articles": [
                    { 
                        "author": "grumpy19",
                        "title": "The Notorious MSGs Unlikely Formula For Success",
                        "article_id": 34,
                        "topic": "cooking",
                        "created_at": "2020-11-22T11:13:00.000Z",
                        "votes": 0,
                        "article_img_url": "https...",
                        "comment_count": 11
                    },
                    ...,
                  ]
                }</pre>
            </p>
        </section>
        <section id="article-id-endpoint">
            <h2 class="sub-heading">/api/articles/:article_id</h2>
            <p>
                <h3 class="sub-heading">Functionality</h3>
                Using the GET method, this endpoint returns a single article object specified by the article_id path parameter. It also supports the PATCH method, which allows you to update the vote count for that article and returns the updated object.<br>

                <h3 class="sub-heading">Error Guidance and Example Responses</h3>
                <ul>
                    <li>If the base path is entered incorrectly, the response will be 404 "Path not found".</li>
                    <li>Providing an invalid article_id (e.g. non-numeric) will return 400 "Bad request".</li>
                    <li>Providing a valid but non-existent article_id will return 404 "Article not found".</li>
                    <li>Attempting to PATCH with an invalid or missing request body will also return 400 "Bad request".</li>
                    <li>Successful requests respond with 200 "OK".</li>
                </ul>

                Example response (GET):<br><br>

                <pre class="json-response">
                {
                  "article": { 
                        "article_id": 1,
                        "title": "Running a Node App",
                        "topic": "coding",
                        "author": "jessjelly",
                        "body": "...",
                        "created_at": "2020-11-07T06:03:00.000Z",
                        "votes": 0,
                        "article_img_url": "https...",
                        "comment_count": 8
                  }
                }</pre>

                PATCHing requires a request body of object form - an example of which is: { inc_votes: 36 }<br><br>

                Example response (PATCH):<br><br>

                <pre class="json-response">
                {
                  "article": { 
                        "article_id": 1,
                        "title": "Running a Node App",
                        "topic": "coding",
                        "author": "jessjelly",
                        "body": "...",
                        "created_at": "2020-11-07T06:03:00.000Z",
                        "votes": 36,
                        "article_img_url": "https...",
                        "comment_count": 8
                  }
                }</pre>            
            </p>
        </section>
        <section id="article-comments-endpoint">
            <h2 class="sub-heading">/api/articles/:article_id/comments</h2>
            <p>
                <h3 class="sub-heading">Functionality</h3>
                Using the GET method, this endpoint retrieves all comments related to the specified article_id. The POST method allows you to submit a new comment for that article, returning the newly created comment object.<br>

                <h3 class="sub-heading">Error Guidance and Example Responses</h3>
                <ul>
                    <li>If the base path is incorrect, the response will be 404 "Path not found".</li>
                    <li>If an invalid article_id is supplied (e.g. not a number), the response will be 400 "Bad request".</li>
                    <li>If a valid but non-existent article_id is provided, the response will be 404 "Article not found".</li>
                    <li>If the article exists but has no comments, the response will still be 200 "OK" but with an empty array.</li>
                    <li>Attempting to POST with an invalid or incomplete request body will return 400 "Bad request".</li>
                    <li>Successful GET and POST requests return 200 "OK" and 201 "Created", respectively.</li>
                </ul>

                Example response (GET):<br><br>

                <pre class="json-response">
                {
                  "comments": [
                    { 
                        "comment_id": 89,
                        "votes": 2,
                        "created_at": "2020-10-24T06:08:00.000Z",
                        "author": "cooljmessy",
                        "body": "...",
                        "article_id": 1
                    },
                    ...,
                  ]
                }</pre>
                
                <br>
                POSTing requires a request body of object form - an example of which is:<br><br>
                <pre class="json-response">
                {
                    "username": "icellusedkars",
                    "body": "This is the return of the space cowboy",
                }</pre>  
                <br>

                Example response (POST):<br><br>

                <pre class="json-response">
                {
                  "comment": {
                        "comment_id": ...,
                        "votes": 0,
                        "created_at": ...,
                        "author": "icellusedkars",
                        "body": "This is the return of the space cowboy",
                        "article_id": ...
                  }
                }</pre> 
            </p>
        </section>
        <section id="comment-id-endpoint">
            <h2 class="sub-heading">/api/comments/:comment_id</h2>
            <p>
                <h3 class="sub-heading">Functionality</h3>
                This endpoint accepts the DELETE method and removes the comment matching the provided comment_id.<br>

                <h3 class="sub-heading">Error Guidance and Example Responses</h3>
                <ul>
                    <li>If the base path is incorrect, the response will be 404 "Path not found".</li>
                    <li>If the comment_id is invalid (e.g. not an integer), the server will respond with 400 "Bad request".</li>
                    <li>If the comment_id is valid but no matching comment exists, the response will be 404 "Comment not found".</li>
                    <li>On success, the server will return a 204 "No content" status with an empty body.</li>
                </ul>
            </p>
        </section>
        <section id="users-endpoint">
            <h2 class="sub-heading">/api/users</h2>
            <p>
                <h3 class="sub-heading">Functionality</h3>
                This endpoint returns an array of all users. Each user object includes a username, name, and avatar_url. The route accepts the GET method and does not take any queries or a request body.<br>

                <h3 class="sub-heading">Error Guidance and Example Responses</h3>
                <ul>
                    <li>If the endpoint path is entered incorrectly, the response will be 404 "Path not found".</li>
                    <li>On success, the server will return 200 "OK".</li>
                </ul>

                Example response (GET):<br><br>

                <pre class="json-response">
                {
                  "users": [
                    { 
                        "username": "tickle122",
                        "name": "Tom Tickle",
                        "avatar_url": "https..."
                    },
                    ...,
                  ]
                }</pre>
            </p>
        </section>
    </main>
    <footer>
        <h2 class="sub-heading">Extras</h2>
        <p>
            If you'd like to test the data yourself, visit this <a href="https://github.com/jamiemarshfeay/nc-news-BE/">NC News Repository</a> and follow the instructions within the README file.
        </p>
    </footer>
</body>
</html>